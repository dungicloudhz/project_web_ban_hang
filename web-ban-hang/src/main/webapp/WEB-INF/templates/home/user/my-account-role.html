<!DOCTYPE html>
<html
  lang="en"
  xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{home/index.html}"
>
  <head></head>

  <body>
    <section layout:fragment="content" id="content">
      <div class="offcanvas-overlay"></div>

      <!-- Breadcrumb Area Start -->
      <div class="breadcrumb-area">
        <div class="container">
          <div class="row">
            <div class="col-md-12">
              <div class="breadcrumb-content">
                <ul class="nav">
                  <li><a href="index.html">Home</a></li>
                  <li>Account</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- Breadcrumb Area End-->
      <!-- account area start -->
      <div class="checkout-area mtb-50px">
        <div class="container">
          <div class="row">
            <div class="ms-auto me-auto col-lg-9">
              <div class="checkout-wrapper">
                <div id="faq" class="panel-group">
                  <div class="panel panel-default single-my-account">
                    <div class="panel-heading my-account-title">
                      <h3 class="panel-title">
                        <span>1 .</span>
                        <a
                          data-bs-toggle="collapse"
                          data-bs-target="#my-account-1"
                          >Cập nhật thông tin cá nhân
                        </a>
                      </h3>
                    </div>
                    <div
                      id="my-account-1"
                      class="panel-collapse collapse show"
                      data-bs-parent="#faq"
                    >
                      <form
                        th:action="@{/admin/user/update-user}"
                        method="post"
                        th:object="${user}"
                        enctype="multipart/form-data"
                      >
                        <input type="text" th:field="*{userId}" hidden />
                        <div class="panel-body">
                          <div class="myaccount-info-wrapper">
                            <div class="account-info-wrapper">
                              <h4>Thông tin tài khoản của tôi</h4>
                              <h5>Thông tin cá nhân của bạn</h5>
                            </div>
                            <div class="row">
                              <div class="col-lg-6 col-md-6">
                                <div class="billing-info">
                                  <label>Họ</label>
                                  <input type="text" th:field="*{firstName}" />
                                </div>
                              </div>
                              <div class="col-lg-6 col-md-6">
                                <div class="billing-info">
                                  <label>Tên</label>
                                  <input type="text" th:field="*{lastName}" />
                                </div>
                              </div>
                              <div class="col-lg-6 col-md-6">
                                <div class="billing-info">
                                  <label>Điện thoại</label>
                                  <input type="text" th:field="*{phone}" />
                                </div>
                              </div>
                              <div class="col-lg-6 col-md-6">
                                <div class="billing-info">
                                  <label>Email</label>
                                  <input
                                    type="email"
                                    th:field="*{email}"
                                    readonly
                                  />
                                </div>
                              </div>
                              <div class="col-lg-12 col-md-12">
                                <div class="billing-info">
                                  <label>Tỉnh / Thành phố</label>
                                  <input type="text" th:field="*{city}" />
                                </div>
                              </div>
                              <div class="col-lg-6 col-md-6">
                                <div class="billing-info">
                                  <label>Quận / Huyện</label>
                                  <input type="text" th:field="*{district}" />
                                </div>
                              </div>
                              <div class="col-lg-6 col-md-6">
                                <div class="billing-info">
                                  <label>Phường / Xã</label>
                                  <input type="text" th:field="*{commune}" />
                                </div>
                              </div>
                              <div
                                class="col-lg-6 col-md-6 d-flex"
                                sec:authorize="hasAnyAuthority('ADMIN','USER')"
                              >
                                <div th:each="item : ${listRole}">
                                  <div class="me-3">
                                    <input
                                      type="checkbox"
                                      th:value="${item.roleId}"
                                      th:field="*{roles}"
                                    />
                                    <span>[[${item.roleName}]]</span>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="billing-back-btn">
                              <div class="billing-back">
                                <a href="#"
                                  ><i class="fa fa-arrow-up"></i> back</a
                                >
                              </div>
                              <input
                                type="file"
                                class="form-control-file"
                                name="imageFile"
                                id="imageFile"
                                hidden
                              />
                              <div class="billing-btn">
                                <button type="submit">UPDATE</button>
                              </div>
                            </div>
                          </div>
                        </div>
                      </form>
                    </div>
                  </div>
                  <div class="panel panel-default single-my-account">
                    <div class="panel-heading my-account-title">
                      <h3 class="panel-title">
                        <span>2 .</span>
                        <a
                          data-bs-toggle="collapse"
                          data-bs-target="#my-account-2"
                          >Thay đổi mật khẩu của bạn
                        </a>
                      </h3>
                    </div>
                    <div
                      id="my-account-2"
                      class="panel-collapse collapse"
                      data-bs-parent="#faq"
                    >
                      <div class="panel-body">
                        <form
                          th:action="@{/users/update-password-user}"
                          method="post"
                        >
                          <div class="myaccount-info-wrapper">
                            <div class="account-info-wrapper">
                              <h4>Đổi mật khẩu</h4>
                              <h5>Mật khẩu của bạn</h5>
                            </div>
                            <div class="row">
                              <div class="col-lg-12 col-md-12">
                                <div class="billing-info">
                                  <label>Mật khẩu</label>
                                  <input type="text" />
                                </div>
                              </div>
                              <div class="col-lg-12 col-md-12">
                                <div class="billing-info">
                                  <label>Xác nhận mật khẩu</label>
                                  <input type="text" name="password" />
                                </div>
                              </div>
                            </div>
                            <div class="billing-back-btn">
                              <div class="billing-back">
                                <a href="#"
                                  ><i class="fa fa-arrow-up"></i> back</a
                                >
                              </div>
                              <div class="billing-btn">
                                <button type="submit">UPDATE</button>
                              </div>
                            </div>
                          </div>
                        </form>
                      </div>
                    </div>
                  </div>
                  <form
                    th:action="@{/users/update-user}"
                    method="post"
                    th:object="${user}"
                    enctype="multipart/form-data"
                  >
                    <input type="text" th:field="*{userId}" hidden />
                    <div class="panel panel-default single-my-account">
                      <div class="panel-heading my-account-title">
                        <h3 class="panel-title">
                          <span>3 .</span>
                          <a
                            data-bs-toggle="collapse"
                            data-bs-target="#my-account-3"
                            >Cập nhật ảnh đại diện
                          </a>
                        </h3>
                      </div>
                      <div
                        id="my-account-3"
                        class="panel-collapse collapse"
                        data-bs-parent="#faq"
                      >
                        <div class="panel-body">
                          <div class="myaccount-info-wrapper">
                            <div class="account-info-wrapper">
                              <h4>Ảnh đại diện của bạn</h4>
                            </div>
                            <div class="entries-wrapper">
                              <div class="row">
                                <div
                                  class="col-lg-6 col-md-6 d-flex align-items-center justify-content-center"
                                >
                                  <div class="entries-info text-center">
                                    <script>
                                      function chooseFile(fileInput) {
                                        if (
                                          fileInput.files &&
                                          fileInput.files[0]
                                        ) {
                                          var reader = new FileReader();

                                          reader.onload = function (e) {
                                            $("#image").attr(
                                              "src",
                                              e.target.result
                                            );
                                          };

                                          reader.readAsDataURL(
                                            fileInput.files[0]
                                          );
                                        }
                                      }
                                    </script>
                                    <img
                                      th:if="${image == null}"
                                      src="/static/img/upload.svg"
                                      id="image"
                                      alt=""
                                      width="80%"
                                    />
                                    <img
                                      th:if="${image != null}"
                                      th:src="@{'/static/images/user/'+${image}}"
                                      id="image"
                                      alt=""
                                      width="80%"
                                    />
                                  </div>
                                </div>
                                <div
                                  class="col-lg-6 col-md-6 d-flex align-items-center justify-content-center"
                                >
                                  <div class="entries-edit-delete text-center">
                                    <!-- <a class="edit" href="#">Edit</a> -->
                                    <input
                                      onchange="chooseFile(this)"
                                      type="file"
                                      class="form-control-file"
                                      name="imageFile"
                                      id="imageFile"
                                    />
                                    <!-- <a href="#">Delete</a> -->
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="billing-back-btn">
                              <div class="billing-back">
                                <a href="#"
                                  ><i class="fa fa-arrow-up"></i> back</a
                                >
                              </div>
                              <input
                                type="text"
                                th:field="*{firstName}"
                                hidden
                              />
                              <input
                                type="text"
                                th:field="*{lastName}"
                                hidden
                              />
                              <input type="text" th:field="*{phone}" hidden />
                              <input type="text" th:field="*{city}" hidden />
                              <input
                                type="text"
                                th:field="*{district}"
                                hidden
                              />
                              <input type="text" th:field="*{commune}" hidden />
                              <div class="billing-btn">
                                <button type="submit">UPDATE</button>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </form>
                  <div class="panel panel-default single-my-account">
                    <div class="panel-heading my-account-title">
                      <h3 class="panel-title">
                        <span>4 .</span>
                        <a th:href="@{/wishlist}">Sản phẩm yêu thích </a>
                      </h3>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- account area end -->
    </section>
  </body>
</html>
